<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>SYS_FS_DriveLabelGet Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '01003.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="01351.html" target="topic">System Service Libraries Help</a> &gt; <a href="00851.html" target="topic">File System Service Library Help</a> &gt; <a href="00852.html" target="topic">Library Interface</a> &gt; b) General Operation Functions &gt; <a href="01003.html" target="topic">SYS_FS_DriveLabelGet Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help Template</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00020.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00993.html" target="topic">Previous</a> | <a href="00852.html" target="topic">Up</a> | <a href="01004.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYS_FS_DriveLabelGet@char*@char *@uint32_t * Topic Title: SYS_FS_DriveLabelGet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
SYS_FS_DriveLabelGet Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
This function gets the label for the drive specified. If no drive is specified, the label for the current drive is obtained.</p></div>
</div>
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><a href="01207.html" target="topic">SYS_FS_RESULT</a> <strong><span style="color: #000000">SYS_FS_DriveLabelGet</span></strong>(
    <strong><span style="color: #000080">const</span></strong> <strong><span style="color: #000080">char</span></strong>* <strong><span style="color: #000000">drive</span></strong>, 
    <strong><span style="color: #000080">char</span></strong> * <strong><span style="color: #000000">buff</span></strong>, 
    uint32_t * <strong><span style="color: #000000">sn</span></strong>
);</pre></div></div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
At least one disk must be mounted.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table3">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
drive&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Pointer to buffer which will hold the name of drive being for which the label is requested. If this string is NULL, then then label of the current drive is obtained by using this function.&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
buff&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Buffer which will hold the string of label.&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
sn&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Serial number of the drive. If this information is not needed, it can be set as NULL.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
SYS_FS_RES_SUCCESS - Drive label information retrieval was successful. SYS_FS_RES_FAILURE - Drive label information retrieval was unsucessful. The reason for the failure can be retrieved with <a href="01007.html" target="topic">SYS_FS_Error</a>.</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element13"><div class="Element12"><pre class="Element12">  <a href="01207.html" target="topic">SYS_FS_RESULT</a> res;
  <strong><span style="color: #000080">char</span></strong> buffer[255];
  uint32_t serialNo;

  <strong><span style="color: #000080">switch</span></strong>(appState)
  {
      <strong><span style="color: #000080">case</span></strong> TRY_MOUNT:
          <strong><span style="color: #000080">if</span></strong>(<a href="01203.html" target="topic">SYS_FS_Mount</a>(&quot;/dev/mmcblka1&quot;, &quot;/mnt/myDrive&quot;, FAT, 0, NULL) != SYS_FS_RES_SUCCESS)
          {
              <i><span style="color: #008000">// Failure, try mounting again</span></i>
          }
          <strong><span style="color: #000080">else</span></strong>
          {
              <i><span style="color: #008000">// Mount was successful. Get label now</span></i>
              appState = GET_LABEL;
          }
          <strong><span style="color: #000080">break</span></strong>;

      <strong><span style="color: #000080">case</span></strong> GET_LABEL:
          res = SYS_FS_DriveLabelGet(&quot;/mnt/myDrive&quot;, buffer, &amp;serialNo);

          <strong><span style="color: #000080">if</span></strong>(res == SYS_FS_RES_FAILURE)
          {
              <i><span style="color: #008000">// Fetching drive label information failed</span></i>
          }
          <i><span style="color: #008000">//...</span></i>
          <i><span style="color: #008000">//...</span></i>
          <strong><span style="color: #000080">break</span></strong>;
  }</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="01351.html" target="topic">System Service Libraries Help</a> &gt; <a href="00851.html" target="topic">File System Service Library Help</a> &gt; <a href="00852.html" target="topic">Library Interface</a> &gt; b) General Operation Functions &gt; <a href="01003.html" target="topic">SYS_FS_DriveLabelGet Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony Help Template</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00020.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00993.html" target="topic">Previous</a> | <a href="00852.html" target="topic">Up</a> | <a href="01004.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYS_FS_DriveLabelGet@char*@char *@uint32_t * Topic Title: SYS_FS_DriveLabelGet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>